<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>数据填报</title>
    <script type="text/javascript" src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
    <!-- Vue -->
    <!--<link rel="stylesheet" href="//unpkg.com/iview/dist/styles/iview.css">-->
    <!--<script src="//unpkg.com/iview/dist/iview.min.js"></script>-->
    <script src="//vuejs.org/js/vue.min.js"></script>
    <!--elementUI-->
    <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <link rel="stylesheet" href="../css/formdata.css">
    <link rel="stylesheet" href="../css/stylesheet.css">
</head>
<body>
<div id="app">
    <el-main class="content" style="overflow: visible;background-color: #FFFFFF;margin:20px;border-radius: 10px;">
        <div class="contentDetail">
            <div class="formIndex">
                <el-button class="indexes" v-for="form in forms" @click="turnForm(form.index)" circle>
                    {{form.index}}
                </el-button>
            <el-button id="submit" @click="submit" type="success">提交</el-button>
            </div>
            <hr/>
            <div class="tabletitle">{{forms[this.index-1].title}}</div>
            <div class="periodnote">{{uploadPeriod}}</div>

            <div class="table" v-if="this.index==1">
        <el-form :model="form1data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="6" offset="9">需求人数</el-col>
                    <el-col :span="6" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <el-form-item class="tablecontent">
                <el-row>
                    <el-col :span="6" offset="3">{{form1data.title}}</el-col>
                    <el-col :span="6"><el-input v-model="form1data.need" :disabled="isReadOnly()"></el-input></el-col>
                    <el-col :span="6"><el-input v-model="form1data.seek" :disabled="isReadOnly()"></el-input></el-col>
                </el-row>
            </el-form-item>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==2">
        <el-form :model="form2data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="7" offset="5">产业</el-col>
                    <el-col :span="7" >需求人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form2data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="7" offset="5">{{item.title}}</el-col>
                        <el-col :span="7"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==3">
        <el-form :model="form3data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="7" offset="5">行业</el-col>
                    <el-col :span="7" >需求人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form3data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="7" offset="5">{{item.title}}</el-col>
                        <el-col :span="7"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==4">
        <el-form :model="form4data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="9" offset="4">产业</el-col>
                    <el-col :span="7" >需求人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form4data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="3" offset="4">{{item.title1}}</el-col>
                        <el-col :span="3">{{item.title2}}</el-col>
                        <el-col :span="3">{{item.title3}}</el-col>
                        <el-col :span="7"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==5">
        <el-form :model="form5data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="6" offset="3">就业</el-col>
                    <el-col :span="12" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="6" offset="3">类别</el-col>
                    <el-col :span="6" >需求人数</el-col>
                    <el-col :span="6" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form5data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="6" offset="3">{{item.title}}</el-col>
                        <el-col :span="6"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="6"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==6">
        <el-form :model="form6data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="5" offset="2">职</el-col>
                    <el-col :span="5">职业</el-col>
                    <el-col :span="15" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="5" offset="2">业</el-col>
                    <el-col :span="5">类别</el-col>
                    <el-col :span="5" >需求人数</el-col>
                    <el-col :span="5" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form6data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="5" offset="2"><el-input v-model="item.job" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="5"><el-input v-model="item.jobcode" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="5"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="5"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==7">
        <el-form :model="form7data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="5" offset="2">职</el-col>
                    <el-col :span="5">职业</el-col>
                    <el-col :span="10" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="5" offset="2">业</el-col>
                    <el-col :span="5">类别</el-col>
                    <el-col :span="5" >需求人数</el-col>
                    <el-col :span="5" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form7data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="5" offset="2"><el-input v-model="item.job" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="5"><el-input v-model="item.jobcode" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="5"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="5"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==8">
        <el-form :model="form8data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="7" offset="5">求职人员类别</el-col>
                    <el-col :span="7" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form8data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="7" offset="5">{{item.title}}</el-col>
                        <el-col :span="7"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==9">
        <el-form :model="form9data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="6" offset="3">性</el-col>
                    <el-col :span="12" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="6" offset="3">别</el-col>
                    <el-col :span="6" >需求人数</el-col>
                    <el-col :span="6" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form9data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="6" offset="3">{{item.title}}</el-col>
                        <el-col :span="6"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="6"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==10">
        <el-form :model="form10data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="6" offset="3">年</el-col>
                    <el-col :span="12" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="6" offset="3">龄</el-col>
                    <el-col :span="6" >需求人数</el-col>
                    <el-col :span="6" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form10data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="6" offset="3">{{item.title}}</el-col>
                        <el-col :span="6"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="6"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==11">
        <el-form :model="form11data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="6" offset="3">文化</el-col>
                    <el-col :span="12" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="6" offset="3">程度</el-col>
                    <el-col :span="6" >需求人数</el-col>
                    <el-col :span="6" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form11data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="6" offset="3">{{item.title}}</el-col>
                        <el-col :span="6"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="6"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div class="table" v-else-if="this.index==12">
        <el-form :model="form12data">
            <el-form-item class="tableheader">
                <el-row>
                    <el-col :span="6" offset="3">技术</el-col>
                    <el-col :span="12" >劳动力供求人数比较</el-col>
                </el-row>
                <el-row>
                    <el-col :span="6" offset="3">等级</el-col>
                    <el-col :span="6" >需求人数</el-col>
                    <el-col :span="6" >求职人数</el-col>
                </el-row>
            </el-form-item>
            <div  v-for="item in form12data">
                <el-form-item class="tablecontent">
                    <el-row>
                        <el-col :span="6" offset="3">{{item.title}}</el-col>
                        <el-col :span="6"><el-input v-model="item.need" :disabled="isReadOnly()"></el-input></el-col>
                        <el-col :span="6"><el-input v-model="item.seek" :disabled="isReadOnly()"></el-input></el-col>
                    </el-row>
                </el-form-item>
            </div>
        </el-form>
    </div>

            <div>
                <el-button id='last' @click="last" type="primary">上一页</el-button>
                <el-button id='change' @click="change"  type="primary">修改</el-button>
                <el-button id='save' @click="save"  type="primary">保存并下一页</el-button>
            </div>
        </div>
    </el-main>
    <el-footer class="footer">2019 &copy; 第二组织</el-footer>

</div>

</body>

<script>
    var vue = new Vue({
        created(){
            var that = this;
            $.ajax({
                url: '/common/data/selectNowUploadPeriod',
                type: 'post',
                data: {},
                success(res) {
                    console.log(res);
                    if(res.code==0) {
                        if(res.data==null) {
                            vue.$message({
                                message: '调查期已结束',
                                type: 'info'
                            });
                            window.location.href='historyTables.html';
                        }
                        else
                            that.uploadPeriod='第'+res.data.uploadPeriodId+'期截止时间：'+res.data.endDateString;
                    }
                    else {
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                        window.location.href='historyTables.html';
                    }
                },
                error(res) {
                    console.log(res);
                    vue.$message({
                        message: res.message,
                        type: 'error'
                    });
                    window.location.href='historyTables.html';
                },
            })
        },
        mounted(){
            this.setTableId(1);
            var div = document.getElementsByTagName('button')[0];
            div.style.backgroundColor = "#e8f0fe";
        },

        el:'#app',
        data:{
            uploadPeriod:'已截止',
            tableId:null,
            index:1,
            forms:[
                {index:1, title:'表1：供求总体人数'},
                {index:2, title:'表2：按产业分组的需求人数'},
                {index:3, title:'表3：按行业分组的需求人数'},
                {index:4, title:'表4：按用人单位性质划分的需求人数'},
                {index:5, title:'表5：按职业分组的需求人数'},
                {index:6, title:'表6：需求大于求职的十个行业'},
                {index:7, title:'表7：需求小于求职的十个行业'},
                {index:8, title:'表8：按求职人员类别分组的需求人数'},
                {index:9, title:'表9：按性别分组的供求人数'},
                {index:10, title:'表10：按年龄分组的供求人数'},
                {index:11, title:'表11：按文化程度的供求人数'},
                {index:12, title:'表12：按技能等级分组的供求人数'},
            ],
            finished:[false,false,false,false,false,false,false,false,false,false,false,false],
            changeable:[false,false,false,false,false,false,false,false,false,false,false,false],
            // need:需求人数，seek：求职人数,job:职业，jobcode:职业代码


            form1data:{
                title: '本期有效数',
                need: '',
                seek: '',
            },
            form2data:[{
                title:'第一产业',
                need:'',
            },{
                title:'第二产业',
                need:'',
            },{
                title:'第三产业',
                need:'',
            }],
            form3data:[{
                title:'农、林、牧、鱼业',
                need:'',
            },{
                title:'采矿业',
                need:'',
            },{
                title:'制造业',
                need:'',
            },{
                title:'电力、燃气及水的生产和供应业',
                need:'',
            },{
                title:'建筑业',
                need:'',
            },{
                title:'交通运输、仓储和邮政业',
                need:'',
            },{
                title:'信息传输、计算机服务和软件业',
                need:'',
            },{
                title:'批发和零售业',
                need:'',
            },{
                title:'住宿和餐饮业',
                need:'',
            },{
                title:'金融业',
                need:'',
            },{
                title:'房地产业',
                need:'',
            },{
                title:'租赁和商务服务业',
                need:'',
            },{
                title:'科学研究、技术服务和地址勘查业',
                need:'',
            },{
                title:'水利、环境和公共设施管理业',
                need:'',
            },{
                title:'居民服务和其他服务业',
                need:'',
            },{
                title:'教育',
                need:'',
            },{
                title:'卫生、社会保障和社会福利业',
                need:'',
            },{
                title:'文化、体育和娱乐业',
                need:'',
            },{
                title:'公共管理与社会组织',
                need:'',
            },{
                title:'国际组织',
                need:'',
            }],
            form4data:[{
                title1:'|',
                title2:'|',
                title3:'国有企业',
                need:'',
            },{
                title1:'|',
                title2:'|',
                title3:'集体企业',
                need:'',
            },{
                title1:'|',
                title2:'|',
                title3:'股份合作企业',
                need:'',
            },{
                title1:'|',
                title2:'|',
                title3:'联营企业',
                need:'',
            },{
                title1:' |',
                title2:'内资企业',
                title3:'有限责任公公司',
                need:'',
            },{
                title1:'企业',
                title2:'|',
                title3:'股份有限公司',
                need:'',
            },{
                title1:'|',
                title2:'|',
                title3:'私营企业',
                need:'',
            },{
                title1:'|',
                title2:'|',
                title3:'其他企业',
                need:'',
            },{
                title1:'-',
                title2:'港、澳、台投资企业',
                title3:'-',
                need:'',
            },{
                title1:'-',
                title2:'外商投资企业',
                title3:'-',
                need:'',
            },{
                title1:'-',
                title2:'个体经营',
                title3:'-',
                need:'',
            },{
                title1:'-',
                title2:'事业',
                title3:'-',
                need:'',
            },{
                title1:'-',
                title2:'机关',
                title3:'-',
                need:'',
            },{
                title1:'-',
                title2:'其他',
                title3:'-',
                need:'',
            }],
            form5data:[{
                title:'单位负责人',
                need:'',
                seek:'',
            },{
                title:'专业技术人员',
                need:'',
                seek:'',
            },{
                title:'办事人员和有关人员',
                need:'',
                seek:'',
            },{
                title:'商业和服务人员',
                need:'',
                seek:'',
            },{
                title:'农林牧渔水利生产人员',
                need:'',
                seek:'',
            },{
                title:'生产运输设备操作工',
                need:'',
                seek:'',
            },{
                title:'其他',
                need:'',
                seek:'',
            },{
                title:'无要求',
                need:'------',
                seek:'',
            }],
            form6data:[{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },],
            form7data:[{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },{
                job:'',
                jobcode:'',
                need:'',
                seek:'',
            },],
            form8data:[{
                title:'新成长失业青年',
                seek:'',
            },{
                title:'应届高校毕业生',
                seek:'',
            },{
                title:'就业转失业人员',
                seek:'',
            },{
                title:'其他失业人员',
                seek:'',
            },{
                title:'在业人员',
                seek:'',
            },{
                title:'下岗职工',
                seek:'',
            },{
                title:'退休人员',
                seek:'',
            },{
                title:'在学人员',
                seek:'',
            },{
                title:'本市农村人员',
                seek:'',
            },{
                title:'外埠人员',
                seek:'',
            }],
            form9data:[{
                title:'男',
                need:'',
                seek:'',
            },{
                title:'女',
                need:'',
                seek:'',
            },{
                title:'无要求',
                need:'',
                seek:'-----',
            }],
            form10data:[{
                title:'16-24岁',
                need:'',
                seek:'',
            },{
                title:'25-34岁',
                need:'',
                seek:'',
            },{
                title:'35-44岁',
                need:'',
                seek:'',
            },{
                title:'45岁以上',
                need:'',
                seek:'',
            },{
                title:'无要求',
                need:'',
                seek:'-----',
            }],
            form11data:[{
                title:'初中及以下',
                need:'',
                seek:'',
            },{
                title:'高中',
                need:'',
                seek:'',
            },{
                title:'职高、技校、中专',
                need:'',
                seek:'',
            },{
                title:'大专',
                need:'',
                seek:'',
            },{
                title:'大学',
                need:'',
                seek:'',
            },{
                title:'硕士以上',
                need:'',
                seek:'',
            },{
                title:'无要求',
                need:'',
                seek:'-----',
            }],
            form12data:[{
                title:'职业资格五级（初级技能）',
                need:'',
                seek:'',
            },{
                title:'职业资格四级（中级技能）',
                need:'',
                seek:'',
            },{
                title:'职业资格三级（高级技能）',
                need:'',
                seek:'',
            },{
                title:'职业资格二级（技师）',
                need:'',
                seek:'',
            },{
                title:'职业资格一级（高级技师）',
                need:'',
                seek:'',
            },{
                title:'初级专业技术职务',
                need:'',
                seek:'',
            },{
                title:'中级专业技术职务',
                need:'',
                seek:'',
            },{
                title:'高级专业技术职务',
                need:'',
                seek:'',
            },{
                title:'无技术等级或职务',
                need:'-----',
                seek:'',
            },{
                title:'无要求',
                need:'',
                seek:'-----',
            }],
        },
        methods:{
            loadData:function() {
                var that = this;
                $.ajax({
                    url: '/common/data/selectTotalNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form1data.seek=res.data.needPopu;
                            that.form1data.need=res.data.jobseekPopu;
                            if(that.form1data.seek!=null){
                                that.changeable[0] = true;
                                that.finished[0] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectIndustryNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success: function (res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form2data[0].need = res.data.industry1Need;
                            that.form2data[1].need = res.data.industry2Need;
                            that.form2data[2].need = res.data.industry3Need;
                            if(that.form2data[0].need!=null){
                                that.changeable[1] = true;
                                that.finished[1] = true;
                            }

                            that.form3data[0].need = res.data.industry1Need;
                            that.form3data[1].need = res.data.mineNeed;
                            that.form3data[2].need = res.data.manuNeed;
                            that.form3data[3].need = res.data.elecGasWaterNeed;
                            that.form3data[4].need = res.data.archNeed;
                            that.form3data[5].need = res.data.tranStorPostNeed;
                            that.form3data[6].need = res.data.infoCompSoftNeed;
                            that.form3data[7].need = res.data.retailNeed;
                            that.form3data[8].need = res.data.accoCaterNeed;
                            that.form3data[9].need = res.data.financeNeed;
                            that.form3data[10].need = res.data.estateNeed;
                            that.form3data[11].need = res.data.leaseBusiServNeed;
                            that.form3data[12].need = res.data.reseTechAddrNeed;
                            that.form3data[13].need = res.data.waterEnviFaciNeed;
                            that.form3data[14].need = res.data.resiServNeed;
                            that.form3data[15].need = res.data.eduNeed;
                            that.form3data[16].need = res.data.healSecuWelfNeed;
                            that.form3data[17].need = res.data.cultSportEnteNeed;
                            that.form3data[18].need = res.data.manaOrgaNeed;
                            that.form3data[19].need = res.data.inteOrgaNeed;
                            if(that.form3data[0].need!=null){
                                that.changeable[2] = true;
                                that.finished[2] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectEmployerNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success: function (res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form4data[0].need = res.data.staOwnNeed;
                            that.form4data[1].need = res.data.collNeed;
                            that.form4data[2].need = res.data.coopStockNeed;
                            that.form4data[3].need = res.data.jointNeed;
                            that.form4data[4].need = res.data.limiLiabNeed;
                            that.form4data[5].need = res.data.limitedNeed;
                            that.form4data[6].need = res.data.privNeed;
                            that.form4data[7].need = res.data.otherEnteNeed;
                            that.form4data[8].need = res.data.hmtInveNeed;
                            that.form4data[9].need = res.data.foreInveEnte;
                            that.form4data[10].need = res.data.indiNeed;
                            that.form4data[11].need = res.data.instNeed;
                            that.form4data[12].need = res.data.orgaNeed;
                            that.form4data[13].need = res.data.otherNeed;
                            if(that.form4data[0].need!=null){
                                that.changeable[3] = true;
                                that.finished[3] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectProfNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form5data[0].need=res.data.leaderNeed;
                            that.form5data[0].seek=res.data.leaderJobseek;
                            that.form5data[1].need=res.data.profTechNeed;
                            that.form5data[1].seek=res.data.profTechJobseek;
                            that.form5data[2].need=res.data.staffRelaNeed;
                            that.form5data[2].seek=res.data.staffRelaJobseek;
                            that.form5data[3].need=res.data.busiServNeed;
                            that.form5data[3].seek=res.data.busiServJobseek;
                            that.form5data[4].need=res.data.prodNeed;
                            that.form5data[4].seek=res.data.prodJobseek;
                            that.form5data[5].need=res.data.operNeed;
                            that.form5data[5].seek=res.data.operJobseek;
                            that.form5data[6].need=res.data.otherNeed;
                            that.form5data[6].seek=res.data.otherJobseek;
                            that.form5data[7].seek=res.data.noRequJobseek;
                            if(that.form5data[0].need!=null){
                                that.changeable[4] = true;
                                that.finished[4] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectMostNeeded',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success: function (res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form6data[0].job = res.data.mostProf1Name;
                            that.form6data[0].jobcode = res.data.mostProf1Num;
                            that.form6data[0].need = res.data.mostProf1Need;
                            that.form6data[0].seek = res.data.mostProf1Jobseek;
                            that.form6data[1].job = res.data.mostProf2Name;
                            that.form6data[1].jobcode = res.data.mostProf2Num;
                            that.form6data[1].need = res.data.mostProf2Need;
                            that.form6data[1].seek = res.data.mostProf2Jobseek;
                            that.form6data[2].jo = res.data.mostProf3Nameb;
                            that.form6data[2].jobcode = res.data.mostProf3Num;
                            that.form6data[2].need = res.data.mostProf3Need;
                            that.form6data[2].seek = res.data.mostProf3Jobseek;
                            that.form6data[3].job = res.data.mostProf4Name;
                            that.form6data[3].jobcode = res.data.mostProf4Num;
                            that.form6data[3].need = res.data.mostProf4Need;
                            that.form6data[3].seek = res.data.mostProf4Jobseek;
                            that.form6data[4].job = res.data.mostProf5Name;
                            that.form6data[4].jobcode = res.data.mostProf5Num;
                            that.form6data[4].need = res.data.mostProf5Need;
                            that.form6data[4].seek = res.data.mostProf5Jobseek;
                            that.form6data[5].job = res.data.mostProf6Name;
                            that.form6data[5].jobcode = res.data.mostProf6Num;
                            that.form6data[5].need = res.data.mostProf6Need;
                            that.form6data[5].seek = res.data.mostProf6Jobseek;
                            that.form6data[6].job = res.data.mostProf7Name;
                            that.form6data[6].jobcode = res.data.mostProf7Num;
                            that.form6data[6].need = res.data.mostProf7Need;
                            that.form6data[6].seek = res.data.mostProf7Jobseek;
                            that.form6data[7].job = res.data.mostProf8Name;
                            that.form6data[7].jobcode = res.data.mostProf8Num;
                            that.form6data[7].need = res.data.mostProf8Need;
                            that.form6data[7].seek = res.data.mostProf8Jobseek;
                            that.form6data[8].job = res.data.mostProf9Name;
                            that.form6data[8].jobcode = res.data.mostProf9Num;
                            that.form6data[8].need = res.data.mostProf9Need;
                            that.form6data[8].seek = res.data.mostProf9Jobseek;
                            that.form6data[9].job = res.data.mostProf10Name;
                            that.form6data[9].jobcode = res.data.mostProf10Num;
                            that.form6data[9].need = res.data.mostProf10Need;
                            that.form6data[9].seek = res.data.mostProf10Jobseek;
                            if(that.form6data[0].need!=null){
                                that.changeable[5] = true;
                                that.finished[5] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectLeastNeeded',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form7data[0].job = res.data.leastProf1Name;
                            that.form7data[0].jobcode = res.data.leastProf1Num;
                            that.form7data[0].need = res.data.leastProf1Need;
                            that.form7data[0].seek = res.data.leastProf1Jobseek;
                            that.form7data[1].job = res.data.leastProf2Name;
                            that.form7data[1].jobcode = res.data.leastProf2Num;
                            that.form7data[1].need = res.data.leastProf2Need;
                            that.form7data[1].seek = res.data.leastProf2Jobseek;
                            that.form7data[2].jo = res.data.leastProf3Nameb;
                            that.form7data[2].jobcode = res.data.leastProf3Num;
                            that.form7data[2].need = res.data.leastProf3Need;
                            that.form7data[2].seek = res.data.leastProf3Jobseek;
                            that.form7data[3].job = res.data.leastProf4Name;
                            that.form7data[3].jobcode = res.data.leastProf4Num;
                            that.form7data[3].need = res.data.leastProf4Need;
                            that.form7data[3].seek = res.data.leastProf4Jobseek;
                            that.form7data[4].job = res.data.leastProf5Name;
                            that.form7data[4].jobcode = res.data.leastProf5Num;
                            that.form7data[4].need = res.data.leastProf5Need;
                            that.form7data[4].seek = res.data.leastProf5Jobseek;
                            that.form7data[5].job = res.data.leastProf6Name;
                            that.form7data[5].jobcode = res.data.leastProf6Num;
                            that.form7data[5].need = res.data.leastProf6Need;
                            that.form7data[5].seek = res.data.leastProf6Jobseek;
                            that.form7data[6].job = res.data.leastProf7Name;
                            that.form7data[6].jobcode = res.data.leastProf7Num;
                            that.form7data[6].need = res.data.leastProf7Need;
                            that.form7data[6].seek = res.data.leastProf7Jobseek;
                            that.form7data[7].job = res.data.leastProf8Name;
                            that.form7data[7].jobcode = res.data.leastProf8Num;
                            that.form7data[7].need = res.data.leastProf8Need;
                            that.form7data[7].seek = res.data.leastProf8Jobseek;
                            that.form7data[8].job = res.data.leastProf9Name;
                            that.form7data[8].jobcode = res.data.leastProf9Num;
                            that.form7data[8].need = res.data.leastProf9Need;
                            that.form7data[8].seek = res.data.leastProf9Jobseek;
                            that.form7data[9].job = res.data.leastProf10Name;
                            that.form7data[9].jobcode = res.data.leastProf10Num;
                            that.form7data[9].need = res.data.leastProf10Need;
                            that.form7data[9].seek = res.data.leastProf10Jobseek;
                            if(that.form7data[0].need!=null){
                                that.changeable[6] = true;
                                that.finished[6] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectJobSeekerNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form8data[0].seek=res.data.unempYouth;
                            that.form8data[1].seek=res.data.graduate;
                            that.form8data[2].seek=res.data.empToUnemp;
                            that.form8data[3].seek=res.data.othUnemp;
                            that.form8data[4].seek=res.data.emped;
                            that.form8data[5].seek=res.data.laidOff;
                            that.form8data[6].seek=res.data.retiree;
                            that.form8data[7].seek=res.data.student;
                            that.form8data[8].seek=res.data.cityRural;
                            that.form8data[9].seek=res.data.fore;
                            if(that.form8data[0].seek!=null){
                                that.changeable[7] = true;
                                that.finished[7] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectSexNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success: function (res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form9data[0].need = res.data.maleNeed;
                            that.form9data[0].seek = res.data.maleJobseek;
                            that.form9data[1].need = res.data.femaleNeed;
                            that.form9data[1].seek = res.data.femaleJobseek;
                            that.form9data[2].need = res.data.noRequNeed;
                            if(that.form9data[0].need!=null){
                                that.changeable[8] = true;
                                that.finished[8] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectAgeNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form10data[0].need=res.data.sixteenTwentyfourNeed;
                            that.form10data[0].seek=res.data.sixteenTwentyfourJobseek;
                            that.form10data[1].need=res.data.twentyfiveThirtyfourNeed;
                            that.form10data[1].seek=res.data.twentyfiveThirtyfourJobseek;
                            that.form10data[2].need=res.data.thirtyfiveFortyfourNeed;
                            that.form10data[2].seek=res.data.thirtyfiveFortyfourJobseek;
                            that.form10data[3].need=res.data.overFortyfourNeed;
                            that.form10data[3].seek=res.data.overFortyfourJobseek;
                            that.form10data[4].need=res.data.noRequNeed;
                            if(that.form10data[0].need!=null){
                                that.changeable[9] = true;
                                that.finished[9] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectDegreeNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form11data[0].need=res.data.belowJuniHighSchoNeed;
                            that.form11data[0].seek=res.data.belowJuniHighSchoJobseek;
                            that.form11data[1].need=res.data.highSchoNeed;
                            that.form11data[1].seek=res.data.highSchoJobseek;
                            that.form11data[2].need=res.data.otherHighSchoNeed;
                            that.form11data[2].seek=res.data.otherHighSchoJobseek;
                            that.form11data[3].need=res.data.juniCollNeed;
                            that.form11data[3].seek=res.data.juniCollJobseek;
                            that.form11data[4].need=res.data.univNeed;
                            that.form11data[4].seek=res.data.univJobseek;
                            that.form11data[5].need=res.data.noRequNeed;
                            if(that.form11data[0].need!=null){
                                that.changeable[10] = true;
                                that.finished[10] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

                $.ajax({
                    url: '/common/data/selectTechGradeNum',
                    type: 'post',
                    data: {
                        tableId: that.tableId,
                    },
                    success(res) {
                        console.log(res);
                        if (res.code == 0) {
                            that.form12data[0].need=res.data.profLevel5Need;
                            that.form12data[0].seek=res.data.profLevel5Jobseek;
                            that.form12data[1].need=res.data.profLevel4Need;
                            that.form12data[1].seek=res.data.profLevel4Jobseek;
                            that.form12data[2].need=res.data.profLevel3Need;
                            that.form12data[2].seek=res.data.profLevel3Jobseek;
                            that.form12data[3].need=res.data.profLevel2Need;
                            that.form12data[3].seek=res.data.profLevel2Jobsee;
                            that.form12data[4].need=res.data.profLevel1Need;
                            that.form12data[4].seek=res.data.profLevel1Jobseek;
                            that.form12data[5].need=res.data.primProfNeed;
                            that.form12data[5].seek=res.data.primProfJobseek;
                            that.form12data[6].need=res.data.mediProfNeed;
                            that.form12data[6].seek=res.data.mediProfJobseek;
                            that.form12data[7].need=res.data.seniProfNeed;
                            that.form12data[7].seek=res.data.seniProfJobseek;
                            that.form12data[8].seek=res.data.noTechJobseek;
                            that.form12data[9].need=res.data.noRequNeed;
                            if(that.form12data[0].need!=null){
                                that.changeable[11] = true;
                                that.finished[11] = true;
                            }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    },
                })

            },

            check:function(param){
                switch (param){
                    case 1:this.check3(this.form1data);console.log(this.form1data);break;
                    case 2:this.checkNeed2(this.form2data);console.log(this.form2data);break;
                    case 3:this.checkNeed2(this.form3data);console.log(this.form3data);break;
                    case 4:this.checkNeed2(this.form4data);console.log(this.form4data);break;
                    case 5:this.check5(this.form5data);console.log(this.form5data);break;
                    case 6:this.check4(this.form6data);console.log(this.form6data);break;
                    case 7:this.check4(this.form7data);console.log(this.form7data);break;
                    case 8:this.checkSeek2(this.form8data);console.log(this.form8data);break;
                    case 9:this.check5(this.form9data);console.log(this.form9data);break;
                    case 10:this.check5(this.form10data);console.log(this.form10data);break;
                    case 11:this.check5(this.form11data);console.log(this.form11data);break;
                    case 12:this.check5(this.form12data);console.log(this.form12data);break;
                }
                console.log(param+':'+this.finished[param-1]);
                return this.finished[this.index-1];
            },

            check3:function(param){
                if(this.form1data.need==""||this.form1data.seek==""){
                    vue.$message({
                        message: '请完整填写数据',
                        type: 'info'
                    })
                }
                else if(isNaN(this.form1data.need)||isNaN(this.form1data.seek)){
                    vue.$message({
                        message: '请正确填写数据',
                        type: 'info'
                    });
                }
                else
                    this.finished[0]=true;
            },

            checkNeed2:function(param){
                var formdata = param;
                for(var i = 0;i<formdata.length;i++){
                    if(formdata[i].need=="") {
                        vue.$message({
                            message: '请完整填写数据',
                            type: 'info'
                        });
                        break;
                    }
                    else if(isNaN(formdata[i].need)) {
                        vue.$message({
                            message: '请正确填写数据',
                            type: 'info'
                        });
                        break;
                    }
                }
                if(i==formdata.length)
                    this.finished[this.index-1]=true;
            },

            checkSeek2:function(param){
                var formdata = param;
                for(var i = 0;i<formdata.length;i++){
                    if(formdata[i].seek=="") {
                        vue.$message({
                            message: '请完整填写数据',
                            type: 'info'
                        });
                        break;
                    }
                    else if(isNaN(formdata[i].seek)) {
                        vue.$message({
                            message: '请正确填写数据',
                            type: 'info'
                        });
                        break;
                    }
                }
                if(i==formdata.length)
                    this.finished[this.index-1]=true;
            },

            check4:function(param){
                var formdata = param;
                for(var i = 0;i<formdata.length;i++){
                    if(formdata[i].seek==""||formdata[i].need==""){
                        vue.$message({
                            message: '请完整填写数据',
                            type: 'info'
                        });
                        break;
                    }
                    else if(isNaN(formdata[i].need)||isNaN(formdata[i].seek)) {
                        vue.$message({
                            message: '请正确填写数据',
                            type: 'info'
                        });
                        break;
                    }
                }
                if(i==formdata.length)
                    this.finished[this.index-1]=true;
            },

            check5:function(param){
                var formdata = param;
                for(var i = 0;i<formdata.length;i++){
                    if(!((this.index==5&&i==7)||(this.index==12&&i==formdata.length-2))){
                        if(formdata[i].need==null) {
                            vue.$message({
                                message: '请完整填写数据',
                                type: 'info'
                            });
                            break;
                        }
                        else if(isNaN(formdata[i].need)){
                            vue.$message({
                                message: '请正确填写数据',
                                type: 'info'
                            });
                            break;
                        }
                    }
                    if(!(i==formdata.length-1&&this.index>5)){
                        if(formdata[i].seek=="") {
                            vue.$message({
                                message: '请完整填写数据',
                                type: 'info'
                            });
                            break;
                        }
                        else if(isNaN(formdata[i].seek)){
                            vue.$message({
                                message: '请正确填写数据',
                                type: 'info'
                            });
                            break;
                        }
                    }
                }
                if(i==formdata.length)
                    this.finished[this.index-1]=true;
            },

            isReadOnly:function(){
                // console.log(this.changeable[this.index-1]);
                return this.changeable[this.index-1];
            },

            change:function(){
                this.changeable[this.index-1]=false;
                this.index++;
                this.index--;
                this.finished[this.index-1]=false;//若有修改，检查完成标志置false
            },

            updateData:function(param) {
                var that=this;
                var words = "提交";
                if (param == 0)
                    words = "保存";
                $.ajax({
                    url: '/market/upload/update',
                    type: 'post',
                    data: {
                            tableId: that.tableId,
                            stateFlag: param,

                            needPopu: that.form1data.seek,//需求人数
                            jobseekPopu: that.form1data.need,//求职人数

                            industry1Need: that.form2data[0].need,//第一产业需求人数
                            industry2Need: that.form2data[1].need,//第二产业需求人数
                            industry3Need: that.form2data[2].need,//第三产业需求人数
                            mineNeed: that.form3data[1].need,//采矿业，第二产业
                            manuNeed: that.form3data[2].need,//制造业，第二产业
                            elecGasWaterNeed: that.form3data[3].need,//电力、燃气及水的生产和供应业，第二产业
                            archNeed: that.form3data[4].need,//建筑业，第二产业
                            tranStorPostNeed: that.form3data[5].need,//交通运输、仓储和邮政业，第三产业
                            infoCompSoftNeed: that.form3data[6].need,//信息传输、计算机服务和软件业，第三产业
                            retailNeed: that.form3data[7].need,//批发和零售业，第三产业
                            accoCaterNeed: that.form3data[8].need,//住宿和餐饮业，第三产业
                            financeNeed: that.form3data[9].need,//金融业，第三产业
                            estateNeed: that.form3data[10].need,//房地产业，第三产业
                            leaseBusiServNeed: that.form3data[11].need,//租赁和商务服务业，第三产业
                            reseTechAddrNeed: that.form3data[12].need,//科学研究、技术服务和地址勘查业，第三产业
                            waterEnviFaciNeed: that.form3data[13].need,//水利、环境和公共设施管理业，第三产业
                            resiServNeed: that.form3data[14].need,//居民服务和其他服务业，第三产业
                            eduNeed: that.form3data[15].need,//教育，第三产业
                            healSecuWelfNeed: that.form3data[16].need,//卫生、社会保障和社会福利业，第三产业
                            cultSportEnteNeed: that.form3data[17].need,//文化、体育和娱乐业，第三产业
                            manaOrgaNeed: that.form3data[18].need,//公共管理与社会组织，第三产业
                            inteOrgaNeed: that.form3data[19].need,//国际组织，第三产业

                            staOwnNeed: that.form4data[0].need,//国有企业，内资企业，企业
                            collNeed: that.form4data[1].need,//集体企业，内资企业，企业
                            coopStockNeed: that.form4data[2].need,//股份合作企业，内资企业，企业
                            jointNeed: that.form4data[3].need,//联营企业，内资企业，企业
                            limiLiabNeed: that.form4data[4].need,//有限责任公司，内资企业，企业
                            limitedNeed: that.form4data[5].need,//股份有限公司，内资企业，企业
                            privNeed: that.form4data[6].need,//私营企业，内资企业，企业
                            otherEnteNeed: that.form4data[7].need,//其他企业，内资企业，企业
                            hmtInveNeed: that.form4data[8].need,//港、澳、台投资企业，企业
                            foreInveEnte: that.form4data[9].need,//外商投资企业，企业
                            indiNeed: that.form4data[10].need,//个体经营，企业
                            instNeed: that.form4data[11].need,//事业
                            orgaNeed: that.form4data[12].need,//机关
                            otherNeedEmployerNum: that.form4data[13].need,//其他

                            leaderNeed: that.form5data[0].need,//单位负责人需求人数
                            leaderJobseek: that.form5data[0].seek,//单位负责人求职人数
                            profTechNeed: that.form5data[1].need,//专业技术人员需求人数
                            profTechJobseek: that.form5data[1].seek,//专业技术人员求职人数
                            staffRelaNeed: that.form5data[2].need,//办事人员和有关人员需求人数
                            staffRelaJobseek: that.form5data[2].seek,//办事人员和有关人员求职人数
                            busiServNeed: that.form5data[3].need,//商业和服务人员需求人数
                            busiServJobseek: that.form5data[3].seek,//商业和服务人员求职人数
                            prodNeed: that.form5data[4].need,//农林牧渔水利生产人员需求人数
                            prodJobseek: that.form5data[4].seek,//农林牧渔水利生产人员求职人数
                            operNeed: that.form5data[5].need,//生产运输设备操作工需求人数
                            operJobseek: that.form5data[5].seek,//生产运输设备操作工求职人数
                            otherNeedProfNum: that.form5data[6].need,//其他需求人数
                            otherJobseek: that.form5data[6].seek,//其他求职人数
                            noRequJobseek: that.form5data[7].seek,//无要求求职人数

                            mostProf1Name: that.form6data[0].job,//最需要排名第一的职业名称
                            mostProf1Num: that.form6data[0].jobcode,//最需要排名第一的职业代码
                            mostProf1Need: that.form6data[0].need,//最需要排名第一的职业需求人数
                            mostProf1Jobseek: that.form6data[0].seek,//最需要排名第一的职业求职人数
                            mostProf2Name: that.form6data[1].job,//最需要排名第二的职业名称
                            mostProf2Num: that.form6data[1].jobcode,//最需要排名第二的职业代码
                            mostProf2Need: that.form6data[1].need,//最需要排名第二的职业需求人数
                            mostProf2Jobseek: that.form6data[1].seek,//最需要排名第二的职业求职人数
                            mostProf3Name: that.form6data[2].job,//最需要排名第三的职业名称
                            mostProf3Num: that.form6data[2].jobcode,//最需要排名第三的职业代码
                            mostProf3Need: that.form6data[2].need,//最需要排名第三的职业需求人数
                            mostProf3Jobseek: that.form6data[2].seek,//最需要排名第三的职业求职人数
                            mostProf4Name: that.form6data[3].job,//最需要排名第四的职业名称
                            mostProf4Num: that.form6data[3].jobcode,//最需要排名第四的职业代码
                            mostProf4Need: that.form6data[3].need,//最需要排名第四的职业需求人数
                            mostProf4Jobseek: that.form6data[3].seek,//最需要排名第四的职业求职人数
                            mostProf5Name: that.form6data[4].job,//最需要排名第五的职业名称
                            mostProf5Num: that.form6data[4].jobcode,//最需要排名第五的职业代码
                            mostProf5Need: that.form6data[4].need,//最需要排名第五的职业需求人数
                            mostProf5Jobseek: that.form6data[4].seek,//最需要排名第五的职业求职人数
                            mostProf6Name: that.form6data[5].job,//最需要排名第六的职业名称
                            mostProf6Num: that.form6data[5].jobcode,//最需要排名第六的职业代码
                            mostProf6Need: that.form6data[5].need,//最需要排名第六的职业需求人数
                            mostProf6Jobseek: that.form6data[5].seek,//最需要排名第六的职业求职人数
                            mostProf7Name: that.form6data[6].job,//最需要排名第七的职业名称
                            mostProf7Num: that.form6data[6].jobcode,//最需要排名第七的职业代码
                            mostProf7Need: that.form6data[6].need,//最需要排名第七的职业需求人数
                            mostProf7Jobseek: that.form6data[6].seek,//最需要排名第七的职业求职人数
                            mostProf8Name: that.form6data[7].job,//最需要排名第八的职业名称
                            mostProf8Num: that.form6data[7].jobcode,//最需要排名第八的职业代码
                            mostProf8Need: that.form6data[7].need,//最需要排名第八的职业需求人数
                            mostProf8Jobseek: that.form6data[7].seek,//最需要排名第八的职业求职人数
                            mostProf9Name: that.form6data[8].job,//最需要排名第九的职业名称
                            mostProf9Num: that.form6data[8].jobcode,//最需要排名第九的职业代码
                            mostProf9Need: that.form6data[8].need,//最需要排名第九的职业需求人数
                            mostProf9Jobseek: that.form6data[8].seek,//最需要排名第九的职业求职人数
                            mostProf10Name: that.form6data[9].job,//最需要排名第十的职业名称
                            mostProf10Num: that.form6data[9].jobcode,//最需要排名第十的职业代码
                            mostProf10Need: that.form6data[9].need,//最需要排名第十的职业需求人数
                            mostProf10Jobseek: that.form6data[9].seek,//最需要排名第十的职业求职人数

                            leastProf1Name: that.form7data[0].job,//最饱和排名第一的职业名称
                            leastProf1Num: that.form7data[0].jobcode,//最饱和排名第一的职业代码
                            leastProf1Need: that.form7data[0].need,//最饱和排名第一的职业需求人数
                            leastProf1Jobseek: that.form7data[0].seek,//最饱和排名第一的职业求职人数
                            leastProf2Name: that.form7data[1].job,//最饱和排名第二的职业名称
                            leastProf2Num: that.form7data[1].jobcode,//最饱和排名第二的职业代码
                            leastProf2Need: that.form7data[1].need,//最饱和排名第二的职业需求人数
                            leastProf2Jobseek: that.form7data[1].seek,//最饱和排名第二的职业求职人数
                            leastProf3Name: that.form7data[2].job,//最饱和排名第三的职业名称
                            leastProf3Num: that.form7data[2].jobcode,//最饱和排名第三的职业代码
                            leastProf3Need: that.form7data[2].need,//最饱和排名第三的职业需求人数
                            leastProf3Jobseek: that.form7data[2].seek,//最饱和排名第三的职业求职人数
                            leastProf4Name: that.form7data[3].job,//最饱和排名第四的职业名称
                            leastProf4Num: that.form7data[3].jobcode,//最饱和排名第四的职业代码
                            leastProf4Need: that.form7data[3].need,//最饱和排名第四的职业需求人数
                            leastProf4Jobseek: that.form7data[3].seek,//最饱和排名第四的职业求职人数
                            leastProf5Name: that.form7data[4].job,//最饱和排名第五的职业名称
                            leastProf5Num: that.form7data[4].jobcode,//最饱和排名第五的职业代码
                            leastProf5Need: that.form7data[4].need,//最饱和排名第五的职业需求人数
                            leastProf5Jobseek: that.form7data[4].seek,//最饱和排名第五的职业求职人数
                            leastProf6Name: that.form7data[5].job,//最饱和排名第六的职业名称
                            leastProf6Num: that.form7data[5].jobcode,//最饱和排名第六的职业代码
                            leastProf6Need: that.form7data[5].need,//最饱和排名第六的职业需求人数
                            leastProf6Jobseek: that.form7data[5].seek,//最饱和排名第六的职业求职人数
                            leastProf7Name: that.form7data[6].job,//最饱和排名第七的职业名称
                            leastProf7Num: that.form7data[6].jobcode,//最饱和排名第七的职业代码
                            leastProf7Need: that.form7data[6].need,//最饱和排名第七的职业需求人数
                            leastProf7Jobseek: that.form7data[6].seek,//最饱和排名第七的职业求职人数
                            leastProf8Name: that.form7data[7].job,//最饱和排名第八的职业名称
                            leastProf8Num: that.form7data[7].jobcode,//最饱和排名第八的职业代码
                            leastProf8Need: that.form7data[7].need,//最饱和排名第八的职业需求人数
                            leastProf8Jobseek: that.form7data[7].seek,//最饱和排名第八的职业求职人数
                            leastProf9Name: that.form7data[8].job,//最饱和排名第九的职业名称
                            leastProf9Num: that.form7data[8].jobcode,//最饱和排名第九的职业代码
                            leastProf9Need: that.form7data[8].need,//最饱和排名第九的职业需求人数
                            leastProf9Jobseek: that.form7data[8].seek,//最饱和排名第九的职业求职人数
                            leastProf10Name: that.form7data[9].job,//最饱和排名第十的职业名称
                            leastProf10Num: that.form7data[9].jobcode,//最饱和排名第十的职业代码
                            leastProf10Need: that.form7data[9].need,//最饱和排名第十的职业需求人数
                            leastProf10Jobseek: that.form7data[9].seek,//最饱和排名第十的职业求职人数

                            unempYouth: that.form8data[0].seek,//新成长失业青年
                            graduate: that.form8data[1].seek,//应届高校毕业生
                            empToUnemp: that.form8data[2].seek,//就业转失业人员
                            othUnemp: that.form8data[3].seek,//其他失业人员
                            emped: that.form8data[4].seek,//在业人员
                            laidOff: that.form8data[5].seek,//下岗职工
                            retiree: that.form8data[6].seek,//退休人员
                            student: that.form8data[7].seek,//在学人员
                            cityRural: that.form8data[8].seek,//本市农村人员
                            fore: that.form8data[9].seek,//外埠人员

                            maleNeed: that.form9data[0].need,//男性需求人数
                            maleJobseek: that.form9data[0].seek,//男性求职人数
                            femaleNeed: that.form9data[1].need,//女性需求人数
                            femaleJobseek: that.form9data[1].seek,//女性求职人数
                            noRequNeedSexNum: that.form9data[2].need,//无要求需求人数

                            sixteenTwentyfourNeed: that.form10data[0].need,//16-24岁需求人数
                            sixteenTwentyfourJobseek: that.form10data[0].seek,//16-24岁求职人数
                            twentyfiveThirtyfourNeed: that.form10data[1].need,//25-34岁需求人数
                            twentyfiveThirtyfourJobseek: that.form10data[1].seek,//25-34岁求职人数
                            thirtyfiveFortyfourNeed: that.form10data[2].need,//35-44岁需求人数
                            thirtyfiveFortyfourJobseek: that.form10data[2].seek,//35-44岁求职人数
                            overFortyfourNeed: that.form10data[3].need,//45岁以上需求人数
                            overFortyfourJobseek: that.form10data[3].seek,//45岁以上求职人数
                            noRequNeedAgeNum: that.form10data[4].need,

                            belowJuniHighSchoNeed: that.form11data[0].need,//初中及以下需求人数
                            belowJuniHighSchoJobseek: that.form11data[0].seek,//初中及以下求职人数
                            highSchoNeed: that.form11data[1].need,//高中需求人数
                            highSchoJobseek: that.form11data[1].seek,//高中求职人数
                            otherHighSchoNeed: that.form11data[2].need,//职高技校中专需求人数
                            otherHighSchoJobseek: that.form11data[2].seek,//职高技校中专求职人数
                            juniCollNeed: that.form11data[3].need,//大专需求人数
                            juniCollJobseek: that.form11data[3].seek,//大专求职人数
                            univNeed: that.form11data[4].need,//大学需求人数
                            univJobseek: that.form11data[4].seek,//大学求职人数
                            noRequNeedDegreeNum: that.form11data[5].need,//无要求需求人数

                            profLevel5Need: that.form12data[0].need,//职业资格五级（初级技能）需求人数
                            profLevel5Jobseek: that.form12data[0].seek,//职业资格五级（初级技能）求职人数
                            profLevel4Need: that.form12data[1].need,//职业资格四级（中级技能）需求人数
                            profLevel4Jobseek: that.form12data[1].seek,//职业资格四级（中级技能）求职人数
                            profLevel3Need: that.form12data[2].need,//职业资格三级（高级技能）需求人数
                            profLevel3Jobseek: that.form12data[2].seek,//职业资格三级（高级技能）求职人数
                            profLevel2Need: that.form12data[3].need,//职业资格二级（技师）需求人数
                            profLevel2Jobseek: that.form12data[3].seek,//职业资格二级（技师）求职人数
                            profLevel1Need: that.form12data[4].need,//职业资格一级（高级技师）需求人数
                            profLevel1Jobseek: that.form12data[4].seek,//职业资格一级（高级技师）求职人数
                            primProfNeed: that.form12data[5].need,//初级专业技术职务需求人数
                            primProfJobseek: that.form12data[5].seek,//初级专业技术职务求职人数
                            mediProfNeed: that.form12data[6].need,//中级专业技术职务需求人数
                            mediProfJobseek: that.form12data[6].seek,//中级专业技术职务求职人数
                            seniProfNeed: that.form12data[7].need,//高级专业技术职务需求人数
                            seniProfJobseek: that.form12data[7].seek,//高级专业技术职务求职人数
                            noTechJobseek: that.form12data[8].seek,//无技术等级或职务求职人数
                            noRequNeedTechGradeNum: that.form12data[9].need,//无技术等级或职务需求人数
                    },
                    success(res) {
                        console.log(res);
                        if(res.code==0) {
                            console.log('data:'+this.data.uploadDataSet);
                            vue.$message({
                                message: words+'成功！',
                                type: 'success'
                            });
                            that.changeable[that.index - 1] = true;
                            console.log('param:'+param);
                            if (param==0) {
                                if (that.index < 12)
                                    that.turnForm(that.index + 1);
                                else {
                                    that.index++;
                                    that.index--;
                                }
                            }
                        }
                        else{
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: res.message,
                            type: 'error'
                        });
                    }
                })
            },

            setTableId:function(param){
                var that=this;
                $.ajax({
                    url: '/market/upload/select',
                    type: 'post',
                    data: {},
                    success(res) {
                        console.log(res);
                        if(res.code==0 && res.data!=null) {
                                that.tableId = res.data.tableId;
                                console.log('tableId:' + that.tableId);
                                if (param == 1) {
                                    if (that.tableId != null)
                                        that.loadData();
                                }
                        }
                        else {
                            vue.$message({
                                message: res.message,
                                type: 'error'
                            });
                        }
                    },
                    error(res) {
                        console.log(res);
                        vue.$message({
                            message: '数据库查询失败，请稍后刷新重试',
                            type: 'error'
                        });
                    },
                })
            },

            save:function(){
                this.check(this.index);
                if(this.finished[this.index-1]) {
                    if (this.tableId == null) {
                        var that=this;
                        $.ajax({
                            url: '/market/upload/insert',
                            type: 'post',
                            data: {
                                    stateFlag: 0,
                                    needPopu: that.form1data.seek,//需求人数
                                    jobseekPopu: that.form1data.need,//求职人数

                                    industry1Need: that.form2data[0].need,//第一产业需求人数
                                    industry2Need: that.form2data[1].need,//第二产业需求人数
                                    industry3Need: that.form2data[2].need,//第三产业需求人数
                                    mineNeed: that.form3data[1].need,//采矿业，第二产业
                                    manuNeed: that.form3data[2].need,//制造业，第二产业
                                    elecGasWaterNeed: that.form3data[3].need,//电力、燃气及水的生产和供应业，第二产业
                                    archNeed: that.form3data[4].need,//建筑业，第二产业
                                    tranStorPostNeed: that.form3data[5].need,//交通运输、仓储和邮政业，第三产业
                                    infoCompSoftNeed: that.form3data[6].need,//信息传输、计算机服务和软件业，第三产业
                                    retailNeed: that.form3data[7].need,//批发和零售业，第三产业
                                    accoCaterNeed: that.form3data[8].need,//住宿和餐饮业，第三产业
                                    financeNeed: that.form3data[9].need,//金融业，第三产业
                                    estateNeed: that.form3data[10].need,//房地产业，第三产业
                                    leaseBusiServNeed: that.form3data[11].need,//租赁和商务服务业，第三产业
                                    reseTechAddrNeed: that.form3data[12].need,//科学研究、技术服务和地址勘查业，第三产业
                                    waterEnviFaciNeed: that.form3data[13].need,//水利、环境和公共设施管理业，第三产业
                                    resiServNeed: that.form3data[14].need,//居民服务和其他服务业，第三产业
                                    eduNeed: that.form3data[15].need,//教育，第三产业
                                    healSecuWelfNeed: that.form3data[16].need,//卫生、社会保障和社会福利业，第三产业
                                    cultSportEnteNeed: that.form3data[17].need,//文化、体育和娱乐业，第三产业
                                    manaOrgaNeed: that.form3data[18].need,//公共管理与社会组织，第三产业
                                    inteOrgaNeed: that.form3data[19].need,//国际组织，第三产业

                                    staOwnNeed: that.form4data[0].need,//国有企业，内资企业，企业
                                    collNeed: that.form4data[1].need,//集体企业，内资企业，企业
                                    coopStockNeed: that.form4data[2].need,//股份合作企业，内资企业，企业
                                    jointNeed: that.form4data[3].need,//联营企业，内资企业，企业
                                    limiLiabNeed: that.form4data[4].need,//有限责任公司，内资企业，企业
                                    limitedNeed: that.form4data[5].need,//股份有限公司，内资企业，企业
                                    privNeed: that.form4data[6].need,//私营企业，内资企业，企业
                                    otherEnteNeed: that.form4data[7].need,//其他企业，内资企业，企业
                                    hmtInveNeed: that.form4data[8].need,//港、澳、台投资企业，企业
                                    foreInveEnte: that.form4data[9].need,//外商投资企业，企业
                                    indiNeed: that.form4data[10].need,//个体经营，企业
                                    instNeed: that.form4data[11].need,//事业
                                    orgaNeed: that.form4data[12].need,//机关
                                    otherNeedEmployerNum: that.form4data[13].need,//其他

                                    leaderNeed: that.form5data[0].need,//单位负责人需求人数
                                    leaderJobseek: that.form5data[0].seek,//单位负责人求职人数
                                    profTechNeed: that.form5data[1].need,//专业技术人员需求人数
                                    profTechJobseek: that.form5data[1].seek,//专业技术人员求职人数
                                    staffRelaNeed: that.form5data[2].need,//办事人员和有关人员需求人数
                                    staffRelaJobseek: that.form5data[2].seek,//办事人员和有关人员求职人数
                                    busiServNeed: that.form5data[3].need,//商业和服务人员需求人数
                                    busiServJobseek: that.form5data[3].seek,//商业和服务人员求职人数
                                    prodNeed: that.form5data[4].need,//农林牧渔水利生产人员需求人数
                                    prodJobseek: that.form5data[4].seek,//农林牧渔水利生产人员求职人数
                                    operNeed: that.form5data[5].need,//生产运输设备操作工需求人数
                                    operJobseek: that.form5data[5].seek,//生产运输设备操作工求职人数
                                    otherNeed: that.form5data[6].need,//其他需求人数
                                    otherJobseek: that.form5data[6].seek,//其他求职人数
                                    noRequJobseek: that.form5data[7].seek,//无要求求职人数

                                    mostProf1Name: that.form6data[0].job,//最需要排名第一的职业名称
                                    mostProf1Num: that.form6data[0].jobcode,//最需要排名第一的职业代码
                                    mostProf1Need: that.form6data[0].need,//最需要排名第一的职业需求人数
                                    mostProf1Jobseek: that.form6data[0].seek,//最需要排名第一的职业求职人数
                                    mostProf2Name: that.form6data[1].job,//最需要排名第二的职业名称
                                    mostProf2Num: that.form6data[1].jobcode,//最需要排名第二的职业代码
                                    mostProf2Need: that.form6data[1].need,//最需要排名第二的职业需求人数
                                    mostProf2Jobseek: that.form6data[1].seek,//最需要排名第二的职业求职人数
                                    mostProf3Name: that.form6data[2].job,//最需要排名第三的职业名称
                                    mostProf3Num: that.form6data[2].jobcode,//最需要排名第三的职业代码
                                    mostProf3Need: that.form6data[2].need,//最需要排名第三的职业需求人数
                                    mostProf3Jobseek: that.form6data[2].seek,//最需要排名第三的职业求职人数
                                    mostProf4Name: that.form6data[3].job,//最需要排名第四的职业名称
                                    mostProf4Num: that.form6data[3].jobcode,//最需要排名第四的职业代码
                                    mostProf4Need: that.form6data[3].need,//最需要排名第四的职业需求人数
                                    mostProf4Jobseek: that.form6data[3].seek,//最需要排名第四的职业求职人数
                                    mostProf5Name: that.form6data[4].job,//最需要排名第五的职业名称
                                    mostProf5Num: that.form6data[4].jobcode,//最需要排名第五的职业代码
                                    mostProf5Need: that.form6data[4].need,//最需要排名第五的职业需求人数
                                    mostProf5Jobseek: that.form6data[4].seek,//最需要排名第五的职业求职人数
                                    mostProf6Name: that.form6data[5].job,//最需要排名第六的职业名称
                                    mostProf6Num: that.form6data[5].jobcode,//最需要排名第六的职业代码
                                    mostProf6Need: that.form6data[5].need,//最需要排名第六的职业需求人数
                                    mostProf6Jobseek: that.form6data[5].seek,//最需要排名第六的职业求职人数
                                    mostProf7Name: that.form6data[6].job,//最需要排名第七的职业名称
                                    mostProf7Num: that.form6data[6].jobcode,//最需要排名第七的职业代码
                                    mostProf7Need: that.form6data[6].need,//最需要排名第七的职业需求人数
                                    mostProf7Jobseek: that.form6data[6].seek,//最需要排名第七的职业求职人数
                                    mostProf8Name: that.form6data[7].job,//最需要排名第八的职业名称
                                    mostProf8Num: that.form6data[7].jobcode,//最需要排名第八的职业代码
                                    mostProf8Need: that.form6data[7].need,//最需要排名第八的职业需求人数
                                    mostProf8Jobseek: that.form6data[7].seek,//最需要排名第八的职业求职人数
                                    mostProf9Name: that.form6data[8].job,//最需要排名第九的职业名称
                                    mostProf9Num: that.form6data[8].jobcode,//最需要排名第九的职业代码
                                    mostProf9Need: that.form6data[8].need,//最需要排名第九的职业需求人数
                                    mostProf9Jobseek: that.form6data[8].seek,//最需要排名第九的职业求职人数
                                    mostProf10Name: that.form6data[9].job,//最需要排名第十的职业名称
                                    mostProf10Num: that.form6data[9].jobcode,//最需要排名第十的职业代码
                                    mostProf10Need: that.form6data[9].need,//最需要排名第十的职业需求人数
                                    mostProf10Jobseek: that.form6data[9].seek,//最需要排名第十的职业求职人数

                                    leastProf1Name: that.form7data[0].job,//最饱和排名第一的职业名称
                                    leastProf1Num: that.form7data[0].jobcode,//最饱和排名第一的职业代码
                                    leastProf1Need: that.form7data[0].need,//最饱和排名第一的职业需求人数
                                    leastProf1Jobseek: that.form7data[0].seek,//最饱和排名第一的职业求职人数
                                    leastProf2Name: that.form7data[1].job,//最饱和排名第二的职业名称
                                    leastProf2Num: that.form7data[1].jobcode,//最饱和排名第二的职业代码
                                    leastProf2Need: that.form7data[1].need,//最饱和排名第二的职业需求人数
                                    leastProf2Jobseek: that.form7data[1].seek,//最饱和排名第二的职业求职人数
                                    leastProf3Name: that.form7data[2].job,//最饱和排名第三的职业名称
                                    leastProf3Num: that.form7data[2].jobcode,//最饱和排名第三的职业代码
                                    leastProf3Need: that.form7data[2].need,//最饱和排名第三的职业需求人数
                                    leastProf3Jobseek: that.form7data[2].seek,//最饱和排名第三的职业求职人数
                                    leastProf4Name: that.form7data[3].job,//最饱和排名第四的职业名称
                                    leastProf4Num: that.form7data[3].jobcode,//最饱和排名第四的职业代码
                                    leastProf4Need: that.form7data[3].need,//最饱和排名第四的职业需求人数
                                    leastProf4Jobseek: that.form7data[3].seek,//最饱和排名第四的职业求职人数
                                    leastProf5Name: that.form7data[4].job,//最饱和排名第五的职业名称
                                    leastProf5Num: that.form7data[4].jobcode,//最饱和排名第五的职业代码
                                    leastProf5Need: that.form7data[4].need,//最饱和排名第五的职业需求人数
                                    leastProf5Jobseek: that.form7data[4].seek,//最饱和排名第五的职业求职人数
                                    leastProf6Name: that.form7data[5].job,//最饱和排名第六的职业名称
                                    leastProf6Num: that.form7data[5].jobcode,//最饱和排名第六的职业代码
                                    leastProf6Need: that.form7data[5].need,//最饱和排名第六的职业需求人数
                                    leastProf6Jobseek: that.form7data[5].seek,//最饱和排名第六的职业求职人数
                                    leastProf7Name: that.form7data[6].job,//最饱和排名第七的职业名称
                                    leastProf7Num: that.form7data[6].jobcode,//最饱和排名第七的职业代码
                                    leastProf7Need: that.form7data[6].need,//最饱和排名第七的职业需求人数
                                    leastProf7Jobseek: that.form7data[6].seek,//最饱和排名第七的职业求职人数
                                    leastProf8Name: that.form7data[7].job,//最饱和排名第八的职业名称
                                    leastProf8Num: that.form7data[7].jobcode,//最饱和排名第八的职业代码
                                    leastProf8Need: that.form7data[7].need,//最饱和排名第八的职业需求人数
                                    leastProf8Jobseek: that.form7data[7].seek,//最饱和排名第八的职业求职人数
                                    leastProf9Name: that.form7data[8].job,//最饱和排名第九的职业名称
                                    leastProf9Num: that.form7data[8].jobcode,//最饱和排名第九的职业代码
                                    leastProf9Need: that.form7data[8].need,//最饱和排名第九的职业需求人数
                                    leastProf9Jobseek: that.form7data[8].seek,//最饱和排名第九的职业求职人数
                                    leastProf10Name: that.form7data[9].job,//最饱和排名第十的职业名称
                                    leastProf10Num: that.form7data[9].jobcode,//最饱和排名第十的职业代码
                                    leastProf10Need: that.form7data[9].need,//最饱和排名第十的职业需求人数
                                    leastProf10Jobseek: that.form7data[9].seek,//最饱和排名第十的职业求职人数

                                    unempYouth: that.form8data[0].seek,//新成长失业青年
                                    graduate: that.form8data[1].seek,//应届高校毕业生
                                    empToUnemp: that.form8data[2].seek,//就业转失业人员
                                    othUnemp: that.form8data[3].seek,//其他失业人员
                                    emped: that.form8data[4].seek,//在业人员
                                    laidOff: that.form8data[5].seek,//下岗职工
                                    retiree: that.form8data[6].seek,//退休人员
                                    student: that.form8data[7].seek,//在学人员
                                    cityRural: that.form8data[8].seek,//本市农村人员
                                    fore: that.form8data[9].seek,//外埠人员

                                    maleNeed: that.form9data[0].need,//男性需求人数
                                    maleJobseek: that.form9data[0].seek,//男性求职人数
                                    femaleNeed: that.form9data[1].need,//女性需求人数
                                    femaleJobseek: that.form9data[1].seek,//女性求职人数
                                    noRequNeedSexNum: that.form9data[2].need,//无要求需求人数

                                    sixteenTwentyfourNeed: that.form10data[0].need,//16-24岁需求人数
                                    sixteenTwentyfourJobseek: that.form10data[0].seek,//16-24岁求职人数
                                    twentyfiveThirtyfourNeed: that.form10data[1].need,//25-34岁需求人数
                                    twentyfiveThirtyfourJobseek: that.form10data[1].seek,//25-34岁求职人数
                                    thirtyfiveFortyfourNeed: that.form10data[2].need,//35-44岁需求人数
                                    thirtyfiveFortyfourJobseek: that.form10data[2].seek,//35-44岁求职人数
                                    overFortyfourNeed: that.form10data[3].need,//45岁以上需求人数
                                    overFortyfourJobseek: that.form10data[3].seek,//45岁以上求职人数
                                    noRequNeedAgeNum: that.form10data[4].need,

                                    belowJuniHighSchoNeed: that.form11data[0].need,//初中及以下需求人数
                                    belowJuniHighSchoJobseek: that.form11data[0].seek,//初中及以下求职人数
                                    highSchoNeed: that.form11data[1].need,//高中需求人数
                                    highSchoJobseek: that.form11data[1].seek,//高中求职人数
                                    otherHighSchoNeed: that.form11data[2].need,//职高技校中专需求人数
                                    otherHighSchoJobseek: that.form11data[2].seek,//职高技校中专求职人数
                                    juniCollNeed: that.form11data[3].need,//大专需求人数
                                    juniCollJobseek: that.form11data[3].seek,//大专求职人数
                                    univNeed: that.form11data[4].need,//大学需求人数
                                    univJobseek: that.form11data[4].seek,//大学求职人数
                                    noRequNeedDegreeNum: that.form11data[5].need,//无要求需求人数

                                    profLevel5Need: that.form12data[0].need,//职业资格五级（初级技能）需求人数
                                    profLevel5Jobseek: that.form12data[0].seek,//职业资格五级（初级技能）求职人数
                                    profLevel4Need: that.form12data[1].need,//职业资格四级（中级技能）需求人数
                                    profLevel4Jobseek: that.form12data[1].seek,//职业资格四级（中级技能）求职人数
                                    profLevel3Need: that.form12data[2].need,//职业资格三级（高级技能）需求人数
                                    profLevel3Jobseek: that.form12data[2].seek,//职业资格三级（高级技能）求职人数
                                    profLevel2Need: that.form12data[3].need,//职业资格二级（技师）需求人数
                                    profLevel2Jobsee: that.form12data[3].seek,//职业资格二级（技师）求职人数
                                    profLevel1Need: that.form12data[4].need,//职业资格一级（高级技师）需求人数
                                    profLevel1Jobseek: that.form12data[4].seek,//职业资格一级（高级技师）求职人数
                                    primProfNeed: that.form12data[5].need,//初级专业技术职务需求人数
                                    primProfJobseek: that.form12data[5].seek,//初级专业技术职务求职人数
                                    mediProfNeed: that.form12data[6].need,//中级专业技术职务需求人数
                                    mediProfJobseek: that.form12data[6].seek,//中级专业技术职务求职人数
                                    seniProfNeed: that.form12data[7].need,//高级专业技术职务需求人数
                                    seniProfJobseek: that.form12data[7].seek,//高级专业技术职务求职人数
                                    noTechJobseek: that.form12data[8].seek,//无技术等级或职务求职人数
                                    noRequNeedTechGradeNum: that.form12data[9].need,//无技术等级或职务需求人数
                            },
                            success(res) {
                                console.log(this.data);
                                console.log(res);
                                if(res.code==0) {
                                    vue.$message({
                                        message: '保存成功',
                                        type: 'success'
                                    });
                                    that.changeable[that.index - 1] = true;
                                    if (that.index < 12)
                                        that.turnForm(that.index + 1);
                                    that.setTableId();
                                }
                                else {
                                    vue.$message({
                                        message: res.message,
                                        type: 'error'
                                    });
                                }
                            },
                            error(res) {
                                console.log(res);
                                vue.$message({
                                    message: res.message,
                                    type: 'error'
                                });
                                return;
                            }
                        })
                    }
                else
                        this.updateData(0);
                }
            },

            submit:function(){
                for(var i = 0;i<12;i++) {
                    if (this.finished[i] == false)
                        if(this.check(i+1)==false)
                            break;
                }
                if(i==12) {
                    this.updateData(1);
                    for (var i = 0; i < 12; i++)
                        this.changeable[i] = true;
                    this.turnForm(1);
                }
            },

            last:function(){
                if (this.index > 1)
                    this.turnForm(this.index-1);
            },

            turnForm:function (param) {
                var div1 = document.getElementsByTagName('button')[this.index-1];
                var div2 = document.getElementsByTagName('button')[param-1];
                div1.style.backgroundColor = "#F3F2F1";
                div2.style.backgroundColor = "#e8f0fe";
                this.index=param;
                console.log(this.changeable[this.index-1]);
                console.log(this.index);
                console.log(this.forms[this.index-1].title);
            }
        }
    })
</script>
</html>